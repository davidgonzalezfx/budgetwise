import React from 'react'
import { useRouter } from 'next/router'

const Menu = () => {
  const router = useRouter()
  const activeRoute = router.pathname

  const hanldeHome = () => router.push('/')
  const handleProfile = () => router.push('/profile')
  const handleBudget = () => {
    if (localStorage.getItem('hasIncome') === 'true') {
      router.push('/budget')
    }
  }

  return (
    <footer className={'footer-menu'} tabIndex={-1}>
      <button onClick={hanldeHome}>
        <svg width={24} height={25} fill='none' xmlns='http://www.w3.org/2000/svg'>
          <path
            fillRule='evenodd'
            clipRule='evenodd'
            d='M15 22.5h4.894c1.166 0 2.117-.929 2.106-2.07v-9.754a2.04 2.04 0 0 0-.745-1.573l-7.389-6.112a2.147 2.147 0 0 0-2.732 0L3.745 9.103c-.475.39-.745.961-.745 1.573v9.755c0 1.14.95 2.069 2.117 2.069H10V17a2.5 2.5 0 0 1 5 0v5.5Z'
            fill={`${activeRoute === '/' ? '#22A2F2' : '#C4C4C4'}`}
          />
        </svg>
      </button>

      <button onClick={handleBudget}>
        <svg width={25} height={25} fill='none' xmlns='http://www.w3.org/2000/svg'>
          <g
            fill={`${
              activeRoute === '/budget'
                ? '#22A2F2'
                : localStorage.getItem('hasIncome') === 'true'
                ? '#C4C4C4'
                : '#C4C4C455'
            }`}
          >
            <path d='M11.116.065c-1.431.161-2.8.562-4.128 1.212A12.208 12.208 0 0 0 3.66 3.652C1.686 5.616.484 8.069.064 10.98c-.102.728-.078 2.55.05 3.371a12.747 12.747 0 0 0 2.418 5.741c.45.597 1.783 1.93 2.38 2.38a12.746 12.746 0 0 0 5.74 2.419c.547.083.909.107 1.808.107 1.568.005 2.59-.156 4.03-.635 4.608-1.534 7.926-5.668 8.453-10.535.025-.263.05-.498.05-.527 0-.034-.724-.05-2.243-.05h-2.238l-.034.304c-.088.782-.396 1.778-.802 2.585-1.465 2.892-4.578 4.656-7.754 4.392-.737-.058-1.011-.107-1.568-.264-1.397-.39-2.502-1.04-3.537-2.081-1.041-1.036-1.69-2.14-2.082-3.538-.518-1.842-.327-3.943.518-5.658a8.078 8.078 0 0 1 5.472-4.334c.23-.054.552-.112.723-.132l.303-.034V.011l-.132.005c-.078.005-.303.025-.503.05Z' />
            <path d='m13.227 2.24.014 2.242.391.054a7.23 7.23 0 0 1 2.272.689c1.75.826 3.05 2.125 3.875 3.875.381.801.562 1.407.689 2.272l.053.39 2.238.015 2.243.01-.034-.327c-.254-2.6-1.114-4.764-2.702-6.782-.347-.44-1.5-1.593-1.94-1.94C18.308 1.155 16.158.295 13.544.03l-.327-.03.01 2.239Z' />
            <path d='M11.478 5.992c-2.409.396-4.432 2.096-5.213 4.378-.338.982-.44 2.267-.26 3.274a6.634 6.634 0 0 0 5.356 5.355c.679.122 1.734.108 2.394-.03 2.535-.522 4.475-2.355 5.125-4.837.225-.855.259-2.096.078-2.931a6.702 6.702 0 0 0-5.154-5.155c-.494-.108-1.803-.137-2.326-.054Zm1.74 2.986c0 .434.014.561.063.561.195 0 1.402.494 1.402.572 0 .015-.132.279-.298.582l-.293.557-.26-.147c-.43-.244-.937-.396-1.328-.396-.523-.005-.753.137-.753.474 0 .342.113.41 1.368.802.69.214.948.327 1.202.522.328.25.557.758.557 1.246 0 .83-.479 1.466-1.3 1.715l-.36.108V16.673H11.75v-.586c0-.562-.005-.586-.102-.586-.26 0-1.5-.499-1.583-.636-.015-.029.107-.308.273-.625l.303-.582.269.167c.528.312 1.173.503 1.725.503.308 0 .4-.02.537-.112.293-.196.235-.567-.112-.748-.083-.044-.513-.196-.958-.342-1.094-.357-1.422-.557-1.656-1.012-.147-.298-.19-.684-.117-1.08.112-.615.478-1.08 1.07-1.348l.351-.166V8.416h1.466v.562Z' />
          </g>
        </svg>
      </button>
      <button onClick={handleProfile}>
        <svg
          width='24'
          height='25'
          fill={`${activeRoute === '/profile' ? '#22A2F2' : '#C4C4C4'}`}
          xmlns='http://www.w3.org/2000/svg'
        >
          <path
            d='M12.06 12.12a3.51 3.51 0 1 0 0-7.02 3.51 3.51 0 0 0 0 7.02ZM18.51 20.9c.66 0 1.17-.64.96-1.28-1.01-3.13-3.94-5.4-7.41-5.4s-6.4 2.27-7.41 5.4c-.2.63.3 1.28.96 1.28h12.9Z'
            stroke='none'
            strokeWidth={1}
            strokeMiterlimit={10}
            strokeLinecap='round'
            strokeLinejoin='round'
          ></path>
        </svg>
      </button>
      <button type='button' onClick={() => router.push('/add')} className='app-button'>
        +
      </button>
    </footer>
  )
}

export default Menu
